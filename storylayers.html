<!DOCTYPE html>
<html ng-app="storylayers">

<head>
    <title>MapStory 7</title>
    
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,800" rel="stylesheet" type="text/css">
    <link href="css/bootstrap.css" rel="stylesheet">
<!--    <link href="bower_components/bootstrap-css/css/bootstrap.css" rel="stylesheet">-->
    <link href="bower_components/angular-rangeslider/angular.rangeSlider.css" rel="stylesheet">
    <link href="bower_components/angular-bootstrap-colorpicker/css/colorpicker.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet">
    
	<!-- icon fonts -->
	<link type="text/css" rel="stylesheet" href="font-icons/custom-icons/custom-icons.css">
    
    <script src="bower_components/jquery/dist/jquery.min.js"></script>

    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/openlayers/lib/OpenLayers.js"></script>
    
    <script src="bower_components/bootstrap-css/js/bootstrap.min.js"></script>
    
    <script src="bower_components/angular-rangeslider/angular.rangeSlider.js"></script>
    <script src="bower_components/angular-bootstrap-colorpicker/js/bootstrap-colorpicker-module.js"></script>
    
	<!--
	
	<script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
	
	-->
    
    <script src="js/ui-bootstrap-tpls-0.9.0.min.js"></script>
    
    <script src="js/app.js"></script>
    <script src="js/directives.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
</head>

<body ng-controller="drawCtrl"></body>
	<iframe style="position:absolute; z-index:0" width="100%" height="800" src="http://maps.stamen.com/watercolor/embed#12/38.8988/-77.0817"></iframe>
	<div class="container" style="z-index:1">
		<div class="row">
			<div class="col-sm-4">
				<accordion close-others="1">
        			<accordion-group ng-repeat="layer in layers" heading="{{layer.name}}" is-open="{{layer.open}}">
            			<!--carousel template-->
            			<div>
  							<div style="height: 200px" ng-click="updateShow(layer.id)">
    							<carousel interval="myInterval">
      								<slide ng-repeat="slide in layer.slides" active="slide.active">
      									<!--placeholder for style previews-->
        								<img ng-src="{{slide.image}}" style="margin:auto;">
        							</slide>
   				 				</carousel>
   				 			</div>
   				 			<div class="container" style="border-top:1px solid gainsboro">
   				 				<div class="row">
    								<div class="col-md-12">
    									<!--placeholder for style options like buttons etc-->
          								<div id="symboltmpl" class="styletmpl" ng-show="showPanel('Symbol', layer.geometry.type)">
          									<!--template-->
          									<div class="tmpl-header">Symbol</div>
          									<form class="tmpl-content">
          										<div class="form-group">
                                                   <div class="btn-toolbar">
														<div click-value ng-model="layer.style.graphicName" class="btn-group" dropdown is-open="false">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled"  popover-placement="top" popover="Symbol" popover-trigger="mouseenter">
                                                                {{layer.style.graphicName}} <span class="caret"></span>
      														</button>
                                                            <ul class="dropdown-menu" role="menu">
        														<li click-set param="layer.style.graphicName" ng-repeat="symbol in presets.symbol.symbol">
                                                                    <a href="#">{{symbol}}</a>
                                                                </li>
      														</ul>
    													</div>
    													<div ng-show="layer.activeSlide != 3" class="btn-group" dropdown is-open="0">
      														<span popover-placement="top" popover="Symbol size" popover-trigger="mouseenter">
        														<input type="number" min="0" max="30" step="1" value="10" name="symbol-size" ng-model="layer.style.pointRadius"/>
      														</span>
    													</div>
    													<div ng-show="layer.activeSlide != 1 && layer.activeSlide != 2" click-value ng-model="layer.style.fillColor" class="btn-group" dropdown is-open="0">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Symbol color" popover-trigger="mouseenter" >
        														<i style="border-radius:2px;border:1px solid white;margin-right:5px" ng-style="{'background-color':layer.style.fillColor}"> &nbsp; &nbsp; &nbsp; </i><span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu color-select" role="menu" style="padding:5px;width:150px">
       	 														<li ng-repeat="color in colorList"><span click-color param="layer.style.fillColor" ng-style="{'background-color':color[0]}" popover-placement="bottom" popover="{{color[1]}}" popover-trigger="mouseenter"></span></li>
       	 													</ul>
      													</div>
    													<div class="btn-group" dropdown is-open="0">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Symbol transparency" popover-trigger="mouseenter">
        														Alpha <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
      															<div range-slider min="0" max="100" model-max="layer.style.fillOpacity" pin-handle="min"></div>
      														</ul>
    													</div>
    												</div>
												</div>
											</form>
          								</div>
          								<div id="filltmpl" class="styletmpl" ng-show="showPanel('Fill',layer.geometry.type)">
          									<!--template-->
          									<div class="tmpl-header">Fill</div>
          									<form class="tmpl-content">
          										<div class="form-group">
													<div class="btn-toolbar">
														<div class="btn-group" dropdown is-open="status.isopen" click-value ng-model="layer.style.fillType">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Fill pattern" popover-trigger="mouseenter">
                                                                {{layer.style.fillType}} <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
        														<li click-set param="layer.style.fillType"><a href="#">Solid</a></li>
        														<li click-set param="layer.style.fillType"><a href="#">Checkered</a></li>
       	 														<li click-set param="layer.style.fillType"><a href="#">Striped</a></li>
      														</ul>
    													</div>
    													<div click-value ng-model="layer.style.fillColor" class="btn-group" dropdown is-open="0">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Fill color" popover-trigger="mouseenter" >
        														<i style="border-radius:2px;border:1px solid white;margin-right:5px" ng-style="{'background-color':layer.style.fillColor}"> &nbsp; &nbsp; &nbsp; </i><span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu color-select" role="menu" style="padding:5px;width:150px">
       	 														<li ng-repeat="color in colorList"><span click-color param="layer.style.fillColor" ng-style="{'background-color':color[0]}" popover-placement="bottom" popover="{{color[1]}}" popover-trigger="mouseenter"></span></li>
       	 													</ul>
      													</div>
    													<div class="btn-group" dropdown is-open="0">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Fill transparency" popover-trigger="mouseenter">
        														Alpha <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
      															<div range-slider min="0" max="100" model-max="layer.style.fillOpacity" pin-handle="min"></div>
      														</ul>
    													</div>
													</div>
												</div>
											</form>
          								</div>
          								<div id="stroketmpl" class="styletmpl">
          									<!--template-->
          									<div class="tmpl-header">Stroke</div>
          									<form class="tmpl-content">
          										<div class="form-group">
													<div class="btn-toolbar">
														<div class="btn-group" dropdown is-open="status.isopen" click-value ng-model="layer.style.strokeDashstyle">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Stroke pattern" popover-trigger="mouseenter">
                                                                {{layer.style.strokeDashstyle}} <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
        														<li click-set param="layer.style.strokeDashstyle"><a href="#">Solid</a></li>
        														<li click-set param="layer.style.strokeDashstyle"><a href="#">Dashed</a></li>
       	 														<li click-set param="layer.style.strokeDashstyle"><a href="#">Dotted</a></li>
      														</ul>
    													</div>
    													<div class="btn-group" dropdown is-open="0">
      														<span popover-placement="top" popover="Stroke weight" popover-trigger="mouseenter">
        														<input type="number" min="0" max="30" step="1" value="10" name="stroke-weight" ng-model="layer.style.strokeWidth"/>
      														</span>
    													</div>
    													<div click-value ng-model="layer.style.strokeColor" class="btn-group" dropdown is-open="0">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Stroke color" popover-trigger="mouseenter" >
        														<i style="border-radius:2px;border:1px solid white;margin-right:5px" ng-style="{'background-color':layer.style.strokeColor}"> &nbsp; &nbsp; &nbsp; </i><span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu color-select" role="menu" style="padding:5px;width:150px">
       	 														<li ng-repeat="color in colorList"><span click-color param="layer.style.strokeColor" ng-style="{'background-color':color[0]}" popover-placement="bottom" popover="{{color[1]}}" popover-trigger="mouseenter"></span></li>
       	 													</ul>
      													</div>
    													<div class="btn-group" dropdown is-open="0">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Stroke transparency" popover-trigger="mouseenter">
        														Alpha <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
      															<div range-slider min="0" max="100" model-max="layer.style.strokeOpacity" pin-handle="min"></div>
      														</ul>
    													</div>
													</div>
												</div>
											</form>
          								</div>
          								<div collapse="layer.activeSlide === 0" id="classtmpl" class="styletmpl">
          									<!--template-->
          									<div class="tmpl-header">Classification</div>
          									<form class="tmpl-content">
          										<div class="form-group">
													<div class="btn-toolbar">
													
														<div class="btn-group" dropdown is-open="status.isopen">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Source column" popover-trigger="mouseenter">
        														Source <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
        														<li><a href="#">Column 1</a></li>
        														<li><a href="#">Column 2</a></li>
       	 														<li><a href="#">Column 3</a></li>
      														</ul>
    													</div>
    													
    													<div class="btn-group" dropdown is-open="status.isopen">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Quantization" popover-trigger="mouseenter">
        														Scheme <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
        														<li><a href="#">Natural Breaks</a></li>
        														<li><a href="#">Equal Interval</a></li>
        														<li><a href="#">Quantile</a></li>
        														<li><a href="#">Geometric Interval</a></li>
        														<li><a href="#">Standard Deviation</a></li>
      														</ul>
    													</div>
    													<div class="btn-group">
       				 										<label class="btn btn-xs btn-primary" ng-model="radioModel" btn-radio="3">3</label>
        													<label class="btn btn-xs btn-primary" ng-model="radioModel" btn-radio="5">5</label>
        													<label class="btn btn-xs btn-primary" ng-model="radioModel" btn-radio="7">7</label>
    													</div>
    													
    													<!--COLOR RAMP for CHOROPLETH-->
    													<div ng-show="layer.activeSlide == 1 || (layer.activeSlide == 4 && layer.geometry.type === 'MultiPoint')" class="btn-group" dropdown is-open="status.isopen">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Color Ramp" popover-trigger="mouseenter">
        														 color ramp<span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
        														<li><a href="#"><div class="gradient-monochrome"></div></a></li>
        														<li><a href="#"><div class="gradient-rainbow"></div></a></li>
        														<li><a href="#"><div class="gradient-redorange"></div></a></li>
       	 														<li><a href="#"><div class="gradient-bluegreen"></div></a></li>
       	 														<li><a href="#"><div class="gradient-yellowgreen"></div></a></li>
       	 														<li><a href="#"><div class="gradient-blue"></div></a></li>
       	 														<li><a href="#"><div class="gradient-pink"></div></a></li>
      														</ul>
    													</div>
    			
    													<!-- RANGE SLIDER for GRADUATED-->
    													<!--<div class="btn-group" dropdown is-open="0">-->

    													<div ng-show="layer.activeSlide == 3" class="btn-group" dropdown is-open="0">

      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Size Range" popover-trigger="mouseenter">
        														Range <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
      															<div range-slider min="1" max="30" model-max="layer.max" model-min="layer.min" prevent-equal-min-max="true" step="3" style="width:auto"></div>
      														</ul>
    													</div>
    													
    												</div>
												</div>
											</form>
          								</div>
          								<div id="labeltmpl" class="styletmpl">
          									<!--template-->
          									<div class="tmpl-header">Label</div>
          									<form class="tmpl-content">
          										<div class="form-group">
													<div class="btn-toolbar">
														<div class="btn-group" dropdown is-open="status.isopen" click-value ng-model="layer.style.label">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Label source" popover-trigger="mouseenter">
                                                                {{layer.style.label}} <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
        														<li click-set param="layer.style.label"><a href="#">Column 1</a></li>
        														<li click-set param="layer.style.label"><a href="#">Column 2</a></li>
      														</ul>
    													</div>
    													<div class="btn-group" dropdown is-open="0">
      														<span popover-placement="top" popover="Font size" popover-trigger="mouseenter">
        														<input type="number" min="0" max="30" step="1" value="10" name="symbol-size"/>
      														</span>
    													</div>
    													<div class="btn-group" dropdown is-open="status.isopen">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Font style" popover-trigger="mouseenter">
        														Font <span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu" role="menu">
        														<li><a href="#">Arial</a></li>
        														<li><a href="#">Helvetica</a></li>
      														</ul>
    													</div>
    													<div click-value ng-model="layer.style.fillColor" class="btn-group" dropdown is-open="0">
      														<button type="button" class="btn btn-xs btn-primary dropdown-toggle" ng-disabled="disabled" popover-placement="top" popover="Font color" popover-trigger="mouseenter" >
        														<i style="border-radius:2px;border:1px solid white;margin-right:5px" ng-style="{'background-color':layer.style.fillColor}"> &nbsp; &nbsp; &nbsp; </i><span class="caret"></span>
      														</button>
      														<ul class="dropdown-menu color-select" role="menu" style="padding:5px;width:150px">
       	 														<li ng-repeat="color in colorList"><span click-color param="layer.style.fillColor" ng-style="{'background-color':color[0]}" popover-placement="bottom" popover="{{color[1]}}" popover-trigger="mouseenter"></span></li>
       	 													</ul>
      													</div>
    													<div class="btn-group">
        													<label class="btn btn-xs btn-primary" ng-model="checkModel.bold" btn-checkbox><strong>B</strong></label>
        													<label class="btn btn-xs btn-primary" ng-model="checkModel.underline" btn-checkbox><u>U</u></label>
        													<label class="btn btn-xs btn-primary" ng-model="checkModel.italic" btn-checkbox><i>I</i></label>
        													<label class="btn btn-xs btn-primary" ng-model="checkModel.halo" btn-checkbox>H</label>
        													<label class="btn btn-xs btn-primary" ng-model="checkModel.shadow" btn-checkbox>S</label>
    													</div>
													</div>
												</div>
											</form>
          								</div>
          							</div>
								</div>
  							</div>
  						</div>
        			</accordion-group>
    			</accordion>
			</div>
			<div class="col-sm-8">
				<div id="container">
        			<canvas id="layerspace" width="500" height="500"></canvas>
   				</div>
			</div>
		</div>
	</div>
	
</body>

</html>